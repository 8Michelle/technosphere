Для индексации необходимо запустить index.sh. Убедитесь, что файлы с документами для индексации лежат в папке docs. В результате индексации будут созданы файлы index, dict и urls.

Файл index содержит разностные постинг-листы, сжатые алгоритмом simple9.

В файле dict лежит словарь, состоящий из количества корзин, оффсетов корзин, и самих корзин из троек (хэш терма, офсет в файле индекса, размер постинг-листа). Данные в каждой корзине отсортированы по возрастанию хэша. Размер каждой корзины не превышает 4 кб, что позволяет использовать бинарный поиск в пределах одной кэш-линии.

В файле urls лежит список ссылок, отсортированный лексикографически и сжатый с помощью gzip.

При индексации производится лемматизация и удаление стоп-слов с помощью nltk и Mystem. То же самое проделывается с запросом.


Для запроса нужно запустить search.sh, после чего ввести запрос с учетом следующих правил:
1. Все термы в запросе соединяются операторами & или |
2. Отрицание терма обозначается с помощью восклицательного знака (!) перед термом без пробела.
3. Нельзя использовать отрицание в связке с |.

В результате исполнения поискового запроса выдается число - количество найденных ссылок, и сами ссылки.

Исполнение запроса осуществляется по следующему алгоритму:
1. Текст запроса проверяется валидатором
2. Запрос нормализуется (по аналогии с документами при индексации)
3. Запрашиваются постинг листы для всех термов в запросе:
	1) считывается количество корзин в файле dict
	2) вычисляется хэш для терма
	3) по остатку от деления хэша на количество корзин находится номер корзины и ее оффсет
	4) считывается сама корзина, в ней бинарным поиском находится терм, оффсет и размер его постинг листа в файле index.
	5) Считывание и simple9 декодирование постинг листа из файла index.
4. Построение дерева запроса и его исполнение потоковым алгоритмом.
5. Подсчет количества документов в выдаче, считывание файла urls и получение ссылок по docid, выдача ссылок.

